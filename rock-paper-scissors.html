<!DOCTYPE html>
<html lang="en">
  <style>
    .game{
      padding: 10px;
      margin: 10px;
      border-radius: 5px;
      text-align: left;
    }
    .box{
      padding: 10px;
      margin: 10px;
      background-color: gray;
      width: 25px;
      border-radius: 5px;
      text-align: center;
    }
  </style>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <link rel="stylesheet" href="moving-block-game.css">
  <script src="./moving-block-game.js"></script> -->
  <title>rock paper scissors</title>
</head>
<body>

  <script>
    let options=["ðŸ—¿","ðŸ“ƒ","âœ‚ï¸"];
    let wins=0;
    let losses=0;
    let ties=0;
    // let history=[];
    let randomOptionIndex=Math.floor(Math.random()*options.length);
    console.log(options[randomOptionIndex]);
    let game=document.createElement("div");
    game.classList.add("game");
    let scores=document.createElement("div");
    scores.classList.add("scores");
    
    function UpdateHistory(outcome,e){
      if(outcome=="Won")wins++;
      if(outcome=="Lost")losses++;
      if(outcome=="Tied")ties++;
      let stats=outcome+"! your choise: "+e +" pc:"+options[randomOptionIndex]+" Total Score: Wins "+wins+" Losses "+losses+" Ties: "+ties;
      // history.push(stats);
      let score=document.createElement("p");
      score.textContent=stats;
      scores.prepend(score);
    }

    let optionsField=document.createElement("div");
    optionsField.classList.add("Options");
    optionsField.innerHTML="Pick a fighter";
    options.forEach(element => {
      let box=document.createElement("div");
      box.classList.add("box");
      box.classList.add(element);
      box.innerHTML=element;
      box.addEventListener("click",()=>{
        if(options[randomOptionIndex]===element)UpdateHistory("Tied",element);
        else if(options[(randomOptionIndex+1)%options.length]===element)UpdateHistory("Won",element);
        else if(randomOptionIndex>0 && options[randomOptionIndex-1]===element)UpdateHistory("Lost",element);
        else if(options[options.length-1]===element)UpdateHistory("Lost",element);
        randomOptionIndex=Math.floor(Math.random()*options.length);
      });
      optionsField.appendChild(box);
    });
    game.appendChild(optionsField);
    game.appendChild(scores);
    
    
    document.body.appendChild(game);
  </script>
  
</body>
</html>